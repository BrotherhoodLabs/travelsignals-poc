# Configuration de l'application
quarkus.application.name=travelsignals-backend
quarkus.application.version=1.0.0-SNAPSHOT

# Ports
quarkus.http.port=8080
quarkus.http.cors=true

# OpenAPI
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/q/swagger-ui
quarkus.openapi.path=/q/openapi

# Health
quarkus.smallrye-health.ui.enable=true
quarkus.smallrye-health.ui.path=/q/health-ui

# Kafka
kafka.bootstrap.servers=localhost:9092

# Topics Kafka
mp.messaging.outgoing.price-updates.connector=smallrye-kafka
mp.messaging.outgoing.price-updates.topic=price-updates
mp.messaging.outgoing.price-updates.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.price-updates.value.serializer=io.quarkus.kafka.client.serialization.JsonObjectSerializer

mp.messaging.outgoing.weather-alerts.connector=smallrye-kafka
mp.messaging.outgoing.weather-alerts.topic=weather-alerts
mp.messaging.outgoing.weather-alerts.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.weather-alerts.value.serializer=io.quarkus.kafka.client.serialization.JsonObjectSerializer

mp.messaging.outgoing.flight-status.connector=smallrye-kafka
mp.messaging.outgoing.flight-status.topic=flight-status
mp.messaging.outgoing.flight-status.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.flight-status.value.serializer=io.quarkus.kafka.client.serialization.JsonObjectSerializer

mp.messaging.outgoing.visa-reminders.connector=smallrye-kafka
mp.messaging.outgoing.visa-reminders.topic=visa-reminders
mp.messaging.outgoing.visa-reminders.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.visa-reminders.value.serializer=io.quarkus.kafka.client.serialization.JsonObjectSerializer

mp.messaging.outgoing.alert-aggregates.connector=smallrye-kafka
mp.messaging.outgoing.alert-aggregates.topic=alert-aggregates
mp.messaging.outgoing.alert-aggregates.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.alert-aggregates.value.serializer=io.quarkus.kafka.client.serialization.JsonObjectSerializer

# Topics d'entr√©e
mp.messaging.incoming.price-updates-in.connector=smallrye-kafka
mp.messaging.incoming.price-updates-in.topic=price-updates
mp.messaging.incoming.price-updates-in.group.id=alert-aggregator
mp.messaging.incoming.price-updates-in.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.price-updates-in.value.deserializer=io.quarkus.kafka.client.serialization.JsonObjectDeserializer
mp.messaging.incoming.price-updates-in.auto.offset.reset=earliest

mp.messaging.incoming.weather-alerts-in.connector=smallrye-kafka
mp.messaging.incoming.weather-alerts-in.topic=weather-alerts
mp.messaging.incoming.weather-alerts-in.group.id=alert-aggregator
mp.messaging.incoming.weather-alerts-in.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.weather-alerts-in.value.deserializer=io.quarkus.kafka.client.serialization.JsonObjectDeserializer
mp.messaging.incoming.weather-alerts-in.auto.offset.reset=earliest

mp.messaging.incoming.flight-status-in.connector=smallrye-kafka
mp.messaging.incoming.flight-status-in.topic=flight-status
mp.messaging.incoming.flight-status-in.group.id=alert-aggregator
mp.messaging.incoming.flight-status-in.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.flight-status-in.value.deserializer=io.quarkus.kafka.client.serialization.JsonObjectDeserializer
mp.messaging.incoming.flight-status-in.auto.offset.reset=earliest

mp.messaging.incoming.visa-reminders-in.connector=smallrye-kafka
mp.messaging.incoming.visa-reminders-in.topic=visa-reminders
mp.messaging.incoming.visa-reminders-in.group.id=alert-aggregator
mp.messaging.incoming.visa-reminders-in.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.visa-reminders-in.value.deserializer=io.quarkus.kafka.client.serialization.JsonObjectDeserializer
mp.messaging.incoming.visa-reminders-in.auto.offset.reset=earliest

# Database
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${QUARKUS_DATASOURCE_USERNAME:travelsignals}
quarkus.datasource.password=${QUARKUS_DATASOURCE_PASSWORD:travelsignals}
quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL:jdbc:postgresql://localhost:5432/travelsignals}

# Hibernate
quarkus.hibernate-orm.database.generation=${QUARKUS_HIBERNATE_ORM_DATABASE_GENERATION:update}
quarkus.hibernate-orm.log.sql=true

# Logging
quarkus.log.level=INFO
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{2.}] (%t) %s%e%n
